{"version":3,"sources":["store/filters.ts","store/index.ts","pages/Page.tsx","utils/authorizedApolloClient.ts","store/animals.ts","store/queryArgs.ts","store/util.ts","components/layout/AppBottomNavigation.tsx","components/layout/ResponsiveAppBottom.tsx","components/layout/TopAuthNav.tsx","hooks/useMobileXS.tsx","components/layout/AppTopBar.tsx","components/layout/AppTopNavigation.tsx","components/layout/ResponsiveAppTop.tsx","pages/PageNotFound.tsx","theme.ts","utils/auth/PrivateRoute.tsx","App.tsx","reportWebVitals.ts","serviceWorkerRegistration.ts","utils/auth/Auth0ProviderWithHistory.tsx","utils/AuthorizedApolloProvider.tsx","index.tsx","config.ts","hooks/useNavMobile.tsx","navigation.ts"],"names":["setFilters","createAction","initialState","slice","createSlice","name","reducers","extraReducers","builder","addCase","state","action","payload","deleteFilter","type","dispatch","getState","filters","obj","Object","assign","resetFilters","actions","reducer","combineReducers","animals","queryArgs","store","configureStore","useAppDispatch","useDispatch","useAppSelector","useSelector","PREFIX","classes","heading","endAlign","title","content","Root","styled","theme","paddingTop","paddingBottom","breakpoints","up","marginBottom","spacing","textAlign","fontWeight","display","justifyContent","alignItems","flexDirection","Page","topSection","children","displayTitleOnMobile","matchesNavMobile","useNavMobile","maxWidth","container","columnSpacing","rowSpacing","item","xs","PageTitle","className","variant","auth0","Auth0Client","domain","config","AUTH0_DOMAIN","client_id","AUTH0_CLIENT_ID","redirect_uri","window","location","origin","audience","AUTH0_AUDIENCE_URL","httpLink","createUploadLink","uri","GRAPHQL_URL","authLink","setContext","a","getTokenSilently","token","headers","Authorization","console","error","apolloClient","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","Query","fields","keyArgs","merge","existing","incoming","connectToDevTools","GET_ANIMALS_QUERY","ADD_TO_FAVORITE_ANIMALS_MUTATION","REMOVE_FROM_FAVORITE_ANIMALS_MUTATION","fetchAnimals","createAsyncThunk","additionQueryArgs","requestId","rejectWithValue","currentRequestId","loading","query","fetchPolicy","variables","data","message","CREATE_ANIMAL_MUTATION","UPDATE_ANIMAL_MUTATION","createOrUpdateAnimal","formData","animalInput","comments","details","speciesId","species","id","breedId","breed","genderId","gender","colorId","color","birthDate","mutation","mutate","input","toggleFavorite","favorite","animalId","entities","pageInfo","hasNextPage","hasPreviousPage","totalCount","undefined","favoriteChangeRequestId","fulfilled","meta","pending","getAnimals","edges","rejected","map","node","setPageSize","resetQuery","initialQuery","pageSize","first","after","last","before","defaultQuery","currentPage","updatePageSize","loadNextPage","cursor","endCursor","loadPreviousPage","startCursor","intToArray","numb","BOTTOM_NAVIGATION_HEIGHT","drawerHeader","appBar","top","bottom","height","backgroundColor","palette","secondary","light","StyledHeader","padding","mixins","toolbar","HideOnScroll","props","trigger","useScrollTrigger","appear","direction","in","AppBottomNavigation","navigate","useNavigate","useLocation","React","useState","open","setDrawerOpen","isAuthenticated","useAuth0","handleDrawerClose","position","edge","onClick","anchor","onClose","role","navigation","filter","authRequired","button","selected","pathTo","to","pathname","event","handleNavListItemClick","primary","ResponsiveAppBottom","StyledSpan","fontSize","whiteSpace","down","TopAuthNav","user","loginWithRedirect","logout","anchorEl","setAnchorEl","Boolean","matchesMobileXS","useTheme","useMediaQuery","useMobileXS","handleClose","Button","currentTarget","startIcon","username","words","split","initials","forEach","word","getShortUserName","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","returnTo","IconButton","appbar","flexGrow","AppTopBar","AppBar","elevation","Toolbar","Typography","noWrap","pages","length","pageTitle","margin","textTransform","text","AppTopNavigation","Link","component","NavLink","ResponsiveAppTop","PageNotFound","defaultTheme","createTheme","main","dark","tertiary","values","sm","md","lg","xl","typography","body1","lineHeight","h1","h2","h3","h4","h5","h6","components","MuiLink","defaultProps","underline","MuiListItemIcon","styleOverrides","root","minWidth","marginTop","PrivateRoute","LocationDisplay","PageNotImplemented","lazy","About","UserProfile","AnimalsPage","AnimalEditPage","AnimalDetailsPage","FavoritesPage","Home","minHeight","App","StyledEngineProvider","ThemeProvider","Theme","CssBaseline","Suspense","fallback","Skeleton","width","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","hostname","match","Auth0ProviderWithHistory","clientId","redirectUri","onRedirectCallback","appState","AuthorizedApolloProvider","getAccessTokenSilently","createHttpLink","ApolloProvider","client","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","process","PUBLIC_URL"],"mappings":"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","file":"static/js/main.eac2f063.chunk.js","sourcesContent":["import { createAction, createSlice } from '@reduxjs/toolkit';\nimport { Breed, Gender, Maybe, Species } from '../graphql/types';\n\nexport const setFilters = createAction<FilterState>('filters/setFilters');\n\nexport interface DeleteFilterState {\n    type: string;\n    filter: Maybe<Gender> | Maybe<Breed> | Maybe<Species>;\n}\n\ninterface FilterState {\n    breed?: Maybe<Breed>;\n    gender?: Maybe<Gender>;\n    species?: Maybe<Species>;\n}\n\nconst initialState: FilterState = {};\n\nconst slice = createSlice({\n    name: 'filters',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder.addCase(setFilters, (state, action) => {\n            return action.payload;\n        });\n    },\n});\n\nexport const deleteFilter = type => (dispatch, getState) => {\n    const { filters } = getState();\n    const obj = Object.assign({}, filters);\n    delete obj[type];\n    dispatch(setFilters(obj));\n};\n\nexport const resetFilters = () => dispatch => {\n    dispatch(setFilters(initialState));\n};\n\nexport const {} = slice.actions;\nexport default slice.reducer;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { combineReducers } from 'redux';\n\nimport { configureStore } from '@reduxjs/toolkit';\nimport animals from './animals';\nimport filters from './filters';\nimport queryArgs from './queryArgs';\n\nconst reducer = combineReducers({\n    animals,\n    filters,\n    queryArgs,\n});\n\nconst store = configureStore({\n    reducer,\n});\n\nexport default store;\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, { ReactNode } from 'react';\n\nimport { Container, Grid, styled, Typography } from '@mui/material';\nimport useNavMobile from '../hooks/useNavMobile';\n\ninterface PageProps {\n    title?: string | ReactNode;\n    topSection?: ReactNode;\n    // Content\n    children: ReactNode | ReactNode[];\n    displayTitleOnMobile?: boolean;\n}\n\nconst PREFIX = 'Page';\n\nconst classes = {\n    heading: `${PREFIX}-heading`,\n    endAlign: `${PREFIX}-endAlign`,\n    title: `${PREFIX}-title`,\n    content: `${PREFIX}-content`,\n};\n\nconst Root = styled('main')(({ theme }) => ({\n    paddingTop: 0,\n    paddingBottom: 32,\n    [theme.breakpoints.up('sm')]: {\n        paddingTop: 64 + 32,\n    },\n\n    [`& .${classes.heading}`]: {\n        marginBottom: theme.spacing(2),\n    },\n    [`& .${classes.endAlign}`]: {\n        textAlign: 'end',\n    },\n    [`& .${classes.title}`]: {\n        fontWeight: 500,\n    },\n    [`& .${classes.content}`]: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        flexDirection: 'column',\n    },\n}));\n\nexport default function Page({ title, topSection, children, displayTitleOnMobile }: PageProps) {\n    const matchesNavMobile = useNavMobile();\n\n    return (\n        <Root>\n            <Container maxWidth=\"lg\">\n                <Grid container columnSpacing={0} rowSpacing={2}>\n                    {(!matchesNavMobile || displayTitleOnMobile) && title && (\n                        <Grid item xs={12}>\n                            <PageTitle title={title} />\n                        </Grid>\n                    )}\n\n                    {topSection && (\n                        <Grid item xs={12}>\n                            {topSection}\n                        </Grid>\n                    )}\n                    <Grid item xs={12} className={classes.content}>\n                        {children}\n                    </Grid>\n                </Grid>\n            </Container>\n        </Root>\n    );\n}\n\nfunction PageTitle({ title }: { title: string | ReactNode }) {\n    if (typeof title !== 'string') {\n        // Custom title\n        return <>title</>;\n    }\n\n    return (\n        <>\n            <Typography className={classes.title} variant=\"h1\">\n                {title}\n            </Typography>\n        </>\n    );\n}\n","import { createUploadLink } from 'apollo-upload-client';\n\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport { Auth0Client } from '@auth0/auth0-spa-js';\nimport config from '../config';\n\nconst auth0 = new Auth0Client({\n    domain: config.AUTH0_DOMAIN,\n    client_id: config.AUTH0_CLIENT_ID,\n    redirect_uri: window.location.origin,\n    audience: config.AUTH0_AUDIENCE_URL,\n});\n\nconst httpLink = createUploadLink({\n    uri: config.GRAPHQL_URL,\n});\n\nconst authLink = setContext(async () => {\n    try {\n        const token = await auth0.getTokenSilently();\n        return {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        };\n    } catch (error: any) {\n        // eslint-disable-next-line no-console\n        console.error('auth0.getTokenSilently error', error);\n    }\n    return {};\n});\n\nconst apolloClient = new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache({\n        typePolicies: {\n            Query: {\n                fields: {\n                    animals: {\n                        keyArgs: [],\n                        merge(existing, incoming) {\n                            return incoming;\n                        },\n                    },\n                },\n            },\n        },\n    }),\n    connectToDevTools: true,\n});\n\nexport default apolloClient;\n","import { loader } from 'graphql.macro';\n\nimport { createAsyncThunk, createSlice, SerializedError } from '@reduxjs/toolkit';\nimport { AnimalFormData } from '../components/animal/create-update/AnimalForm';\nimport {\n    Animal,\n    AnimalEdge,\n    AnimalsConnection,\n    CreateAnimalInput,\n    PageInfo,\n    QueryAnimalsArgs,\n    UpdateAnimalInput,\n} from '../graphql/types';\nimport apolloClient from '../utils/authorizedApolloClient';\nimport { RootState } from './index';\n\n// First, create the thunk\nconst GET_ANIMALS_QUERY = loader('../graphql/queries/animal-list.graphql');\nconst ADD_TO_FAVORITE_ANIMALS_MUTATION = loader('../graphql/mutations/add-to-favorite-animals.graphql');\nconst REMOVE_FROM_FAVORITE_ANIMALS_MUTATION = loader('../graphql/mutations/remove-from-favorite-animals.graphql');\n\nexport const fetchAnimals = createAsyncThunk<\n    AnimalsConnection,\n    Partial<QueryAnimalsArgs> | void,\n    {\n        rejectValue: string;\n    }\n>('animals/fetchStatus', async (additionQueryArgs, { getState, requestId, rejectWithValue }) => {\n    const { currentRequestId, loading } = (getState() as RootState).animals;\n    const queryArgs = (getState() as RootState).queryArgs.query;\n    if (loading !== 'pending' || requestId !== currentRequestId) {\n        return;\n    }\n    try {\n        const { data } = await apolloClient.query({\n            query: GET_ANIMALS_QUERY,\n            fetchPolicy: 'no-cache',\n            variables: { ...queryArgs, ...additionQueryArgs },\n        });\n\n        return data.animals;\n    } catch (error: any) {\n        return rejectWithValue(error.message);\n    }\n});\n\nconst CREATE_ANIMAL_MUTATION = loader('../graphql/mutations/create-animal.graphql');\nconst UPDATE_ANIMAL_MUTATION = loader('../graphql/mutations/update-animal.graphql');\n\nexport const createOrUpdateAnimal = createAsyncThunk<\n    Animal | null | undefined,\n    AnimalFormData,\n    {\n        rejectValue: string;\n    }\n>('animals/CreateUpdate', async (formData, { rejectWithValue }) => {\n    // (formData: AnimalFormData, actionCb: (error: any) => void) => async (dispatch, getState) => {\n    const animalInput: CreateAnimalInput = {\n        name: formData.name,\n        comments: formData.comments,\n        details: {\n            speciesId: formData.details?.species?.id,\n            breedId: formData.details?.breed?.id,\n            genderId: formData.details?.gender?.id,\n            colorId: formData.details?.color?.id,\n            birthDate: formData.details?.birthDate,\n        },\n    };\n\n    if (formData.id) {\n        (animalInput as UpdateAnimalInput).id = formData.id;\n    }\n\n    const mutation = formData.id ? UPDATE_ANIMAL_MUTATION : CREATE_ANIMAL_MUTATION;\n\n    try {\n        const { data } = await apolloClient.mutate<Animal>({\n            mutation,\n            variables: { input: animalInput },\n        });\n        return data;\n    } catch (error: any) {\n        return rejectWithValue(error.message);\n    }\n});\n\nexport const toggleFavorite = createAsyncThunk<\n    void,\n    { id: number; favorite: boolean },\n    {\n        rejectValue: string;\n    }\n>('animals/toggleFavorite', async (data, { rejectWithValue }) => {\n    try {\n        await apolloClient.mutate({\n            mutation: data.favorite ? ADD_TO_FAVORITE_ANIMALS_MUTATION : REMOVE_FROM_FAVORITE_ANIMALS_MUTATION,\n            variables: { animalId: data.id },\n        });\n    } catch (error: any) {\n        rejectWithValue(error.message);\n    }\n});\n\ninterface AnimalStoreState {\n    entities: Animal[];\n    pageInfo: PageInfo;\n    loading: string;\n    currentRequestId?: string;\n    favoriteChangeRequestId?: string;\n    error?: SerializedError;\n}\n\nconst initialState: AnimalStoreState = {\n    entities: [],\n    pageInfo: {\n        hasNextPage: false,\n        hasPreviousPage: false,\n        totalCount: 0,\n    },\n    loading: 'idle',\n    currentRequestId: undefined,\n    favoriteChangeRequestId: undefined,\n    error: undefined,\n};\n\nconst slice = createSlice({\n    name: 'animals',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(toggleFavorite.fulfilled, (state, action) => {\n                const { requestId } = action.meta;\n                state.favoriteChangeRequestId = requestId;\n            })\n            .addCase(fetchAnimals.pending, (state, action) => {\n                if (state.loading === 'idle') {\n                    state.loading = 'pending';\n                    state.currentRequestId = action.meta.requestId;\n                }\n            })\n            .addCase(fetchAnimals.fulfilled, (state, action) => {\n                const { requestId } = action.meta;\n                if (state.loading === 'pending' && state.currentRequestId === requestId) {\n                    state.loading = 'idle';\n                    state.entities = getAnimals(action.payload.edges);\n                    state.pageInfo = action.payload.pageInfo;\n                    state.currentRequestId = undefined;\n                }\n            })\n            .addCase(fetchAnimals.rejected, (state, action) => {\n                const { requestId } = action.meta;\n                if (state.loading === 'pending' && state.currentRequestId === requestId) {\n                    state.loading = 'idle';\n                    state.error = action.error;\n                    state.currentRequestId = undefined;\n                }\n            });\n    },\n});\n\nexport const getAnimals = (edges?: Array<AnimalEdge>): Animal[] => {\n    if (!edges) {\n        return [];\n    }\n    return edges.map(item => item.node as Animal);\n};\n\nexport const {} = slice.actions;\nexport default slice.reducer;\n","import { createAction, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { PageInfo, QueryAnimalsArgs } from '../graphql/types';\nimport { setFilters } from './filters';\nimport { defaultQuery } from './util';\n\nexport const setPageSize = createAction<number>('setPageSize');\nexport const resetQuery = createAction<void>('resetQuery');\n\ninterface QueryArgsState {\n    query: QueryAnimalsArgs;\n    pageSize: number;\n    currentPage: number;\n}\n\nconst initialQuery = defaultQuery();\n\nconst initialState: QueryArgsState = {\n    query: initialQuery,\n    pageSize: initialQuery.first,\n    currentPage: 0,\n};\n\nconst updatePageSize = (state, pageSize: number) => {\n    delete state.query.last;\n    delete state.query.after;\n    delete state.query.before;\n    state.query.first = pageSize;\n\n    state.currentPage = 0;\n    state.pageSize = pageSize;\n};\nconst slice = createSlice({\n    name: 'queryArgs',\n    initialState,\n    reducers: {\n        loadNextPage: (state, action: PayloadAction<PageInfo>) => {\n            const cursor = action.payload?.endCursor;\n            const query: QueryAnimalsArgs = {\n                ...state.query,\n                ...initialQuery,\n                first: undefined,\n            };\n            query.first = state.pageSize;\n            query.after = cursor;\n\n            state.query = query;\n            state.currentPage++;\n        },\n        loadPreviousPage: (state, action) => {\n            const cursor = action.payload?.startCursor;\n            const query: QueryAnimalsArgs = {\n                ...state.query,\n                ...initialQuery,\n                first: undefined,\n            };\n            query.last = state.pageSize;\n            query.before = cursor;\n\n            // going backwards\n            state.query = query;\n            state.currentPage--;\n        },\n    },\n    extraReducers: builder => {\n        builder\n            .addCase(setPageSize, (state, action) => {\n                updatePageSize(state, action.payload);\n            })\n            .addCase(resetQuery, state => {\n                updatePageSize(state, state.pageSize);\n            })\n            .addCase(setFilters, (state, action) => {\n                updatePageSize(state, state.pageSize);\n                state.query = {\n                    ...state.query,\n                    breed: intToArray(action.payload.breed?.id),\n                    species: intToArray(action.payload.species?.id),\n                    gender: intToArray(action.payload.gender?.id),\n                };\n            });\n    },\n});\n\nconst intToArray = (numb?: number) => {\n    return numb ? [numb] : null;\n};\n\nexport const { loadNextPage, loadPreviousPage } = slice.actions;\nexport default slice.reducer;\n","const DEFAULT_PAGE_SIZE = 12;\n\nexport const defaultQuery = (pageSize = DEFAULT_PAGE_SIZE) => {\n    return { first: pageSize, after: undefined, last: undefined, before: undefined };\n};\n","import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { useAuth0 } from '@auth0/auth0-react';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport CloseIcon from '@mui/icons-material/Close';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport {\n    AppBar,\n    Divider,\n    Drawer,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    Slide,\n    styled,\n    Toolbar,\n    Typography,\n    useScrollTrigger,\n} from '@mui/material';\nimport { navigation, NavigationItem } from '../../navigation';\n\nexport const BOTTOM_NAVIGATION_HEIGHT = 64;\n\nconst PREFIX = 'AppBottomNavigation';\n\nconst classes = {\n    drawerHeader: `${PREFIX}-drawerHeader`,\n    appBar: `${PREFIX}-appBar`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n    [`& .${classes.appBar}`]: {\n        top: 'auto',\n        bottom: 0,\n        height: BOTTOM_NAVIGATION_HEIGHT,\n        backgroundColor: theme.palette.secondary.light,\n    },\n\n    [`& .${classes.drawerHeader}`]: {\n        display: 'flex',\n        alignItems: 'center',\n        // necessary for height alignment with app bar\n        // ...theme.mixins.toolbar,\n        justifyContent: 'space-between',\n    },\n\n    // show: {\n    //     transform: 'translateY(0)',\n    //     transition: 'transform .5s',\n    // },\n    // hide: {\n    //     transform: 'translateY(-110%)',\n    //     transition: 'transform .5s',\n    // },\n}));\n\nconst StyledHeader = styled('div')(({ theme }) => ({\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 3),\n    // necessary for height alignment with app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'space-between',\n}));\n\ninterface Props {\n    children: React.ReactElement;\n}\n\nfunction HideOnScroll(props: Props) {\n    const { children } = props;\n    const trigger = useScrollTrigger();\n\n    return (\n        <Slide appear={false} direction=\"up\" in={!trigger}>\n            {children}\n        </Slide>\n    );\n}\n\nexport default function AppBottomNavigation() {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [open, setDrawerOpen] = React.useState(false);\n    const { isAuthenticated } = useAuth0();\n\n    const handleDrawerOpen = () => {\n        setDrawerOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setDrawerOpen(false);\n    };\n\n    const handleNavListItemClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>, pathTo: string) => {\n        navigate(pathTo);\n        setDrawerOpen(false);\n    };\n\n    const linkToCurrentPage = (pathTo: string) => {\n        return location.pathname === pathTo;\n    };\n\n    return (\n        <HideOnScroll>\n            <Root>\n                <AppBar className={classes.appBar} position=\"fixed\" color=\"default\">\n                    <Toolbar>\n                        <IconButton edge=\"start\" onClick={handleDrawerOpen} color=\"inherit\" aria-label=\"open drawer\">\n                            <MenuIcon />\n                        </IconButton>\n                    </Toolbar>\n                    <Drawer anchor=\"bottom\" open={open} onClose={handleDrawerClose}>\n                        <div role=\"presentation\">\n                            <StyledHeader>\n                                <Typography variant=\"h6\">PetBook</Typography>\n                                <IconButton edge=\"end\" onClick={handleDrawerClose}>\n                                    <CloseIcon />\n                                </IconButton>\n                            </StyledHeader>\n                            <Divider />\n                            <List>\n                                {navigation\n                                    .filter((item: NavigationItem) => {\n                                        return item.authRequired ? isAuthenticated : true;\n                                    })\n                                    .map((item: NavigationItem) => (\n                                        <ListItem\n                                            button\n                                            key={item.title}\n                                            selected={linkToCurrentPage(item.to)}\n                                            onClick={event => handleNavListItemClick(event, item.to)}\n                                        >\n                                            <ListItemIcon>\n                                                <ChevronRightIcon />\n                                            </ListItemIcon>\n                                            <ListItemText primary={item.title} />\n                                        </ListItem>\n                                    ))}\n                            </List>\n                        </div>\n                    </Drawer>\n                </AppBar>\n            </Root>\n        </HideOnScroll>\n    );\n}\n","import React from 'react';\n\nimport useNavMobile from '../../hooks/useNavMobile';\nimport AppBottomNavigation from './AppBottomNavigation';\n\nexport default function ResponsiveAppBottom() {\n    const matchesNavMobile = useNavMobile();\n    return matchesNavMobile ? <AppBottomNavigation /> : <div />;\n}\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useAuth0 } from '@auth0/auth0-react';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport { Button, IconButton, Menu, MenuItem, styled } from '@mui/material';\nimport useMobileXS from '../../hooks/useMobileXS';\n\nconst StyledSpan = styled('span')(({ theme }) => ({\n    fontSize: 'inherit',\n    fontWeight: 'inherit',\n    whiteSpace: 'nowrap',\n    [theme.breakpoints.down('sm')]: {\n        maxWidth: 150,\n    },\n}));\n\nexport default function TopAuthNav() {\n    const { isAuthenticated, user, loginWithRedirect, logout } = useAuth0();\n    const navigate = useNavigate();\n\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const open = Boolean(anchorEl);\n\n    const matchesMobileXS = useMobileXS();\n\n    const getShortUserName = (username?: string): string => {\n        if (!username) {\n            return '';\n        }\n\n        const words = username.split(' ');\n        let initials = '';\n        words.forEach(word => {\n            initials += word[0];\n        });\n        return initials;\n    };\n\n    const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleLinkProfile = () => {\n        navigate('/user-profile');\n        handleClose();\n    };\n\n    return (\n        <div>\n            {isAuthenticated ? (\n                <>\n                    <Button\n                        aria-label=\"account of current user\"\n                        aria-controls=\"menu-appbar\"\n                        aria-haspopup=\"true\"\n                        onClick={handleMenu}\n                        color=\"inherit\"\n                        startIcon={<AccountCircleIcon />}\n                    >\n                        <StyledSpan>{matchesMobileXS ? getShortUserName(user?.name) : user?.name}</StyledSpan>\n                    </Button>\n                    <Menu\n                        id=\"menu-appbar\"\n                        anchorEl={anchorEl}\n                        anchorOrigin={{\n                            vertical: 'top',\n                            horizontal: 'right',\n                        }}\n                        keepMounted\n                        transformOrigin={{\n                            vertical: 'top',\n                            horizontal: 'right',\n                        }}\n                        open={open}\n                        onClose={handleClose}\n                    >\n                        <MenuItem onClick={handleLinkProfile}>Profile</MenuItem>\n                        <MenuItem\n                            onClick={() =>\n                                logout({\n                                    returnTo: window.location.origin,\n                                })\n                            }\n                        >\n                            Logout\n                        </MenuItem>\n                    </Menu>\n                </>\n            ) : (\n                <IconButton aria-label=\"login\" edge=\"end\" onClick={() => loginWithRedirect()} color=\"inherit\">\n                    <AccountCircleIcon />\n                </IconButton>\n            )}\n        </div>\n    );\n}\n","import { useMediaQuery, useTheme } from '@mui/material';\n\nexport default function useMobileXS() {\n    const theme = useTheme();\n    return useMediaQuery(theme.breakpoints.down('xs'));\n}\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { AppBar, styled, Toolbar, Typography } from '@mui/material';\nimport { navigation, NavigationItem } from '../../navigation';\nimport TopAuthNav from './TopAuthNav';\n\nconst PREFIX = 'AppTopBar';\nconst classes = {\n    appbar: `${PREFIX}-appbar`,\n    toolbar: `${PREFIX}-toolbar`,\n    title: `${PREFIX}-title`,\n};\n\nconst Root = styled('div')(() => ({\n    [`& .${classes.appbar}`]: {\n        backgroundColor: 'transparent',\n    },\n    [`& .${classes.toolbar}`]: {\n        justifyContent: 'space-between',\n    },\n    [`& .${classes.title}`]: {\n        flexGrow: 1,\n        fontSize: '1.5rem',\n    },\n}));\n\nexport default function AppTopBar() {\n    const location = useLocation();\n\n    const pageTitle = () => {\n        const pages: Array<NavigationItem> = navigation.filter((item: NavigationItem) => item.to === location.pathname);\n        if (pages.length === 1) {\n            return pages[0].pageTitle;\n        }\n        return '';\n    };\n\n    return (\n        <Root>\n            <AppBar className={classes.appbar} position=\"static\" color=\"default\" elevation={0}>\n                <Toolbar className={classes.toolbar}>\n                    <Typography variant=\"h1\" className={classes.title} noWrap>\n                        {pageTitle()}\n                    </Typography>\n                    <TopAuthNav />\n                </Toolbar>\n            </AppBar>\n        </Root>\n    );\n}\n","import { NavLink } from 'react-router-dom';\n\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { AppBar, Link, styled, Toolbar, Typography } from '@mui/material';\nimport { navigation, NavigationItem } from '../../navigation';\nimport TopAuthNav from './TopAuthNav';\n\nconst PREFIX = 'AppTopNavigation';\nconst classes = {\n    appBar: `${PREFIX}-appBar`,\n    title: `${PREFIX}-title`,\n    link: `${PREFIX}-link`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n    [`& .${classes.appBar}`]: {\n        backgroundColor: theme.palette.secondary.light,\n    },\n    [`& .${classes.title}`]: {\n        flexGrow: 1,\n        textAlign: 'left',\n        fontSize: '1.5rem',\n    },\n    [`& .${classes.link}`]: {\n        margin: theme.spacing(1, 1.5),\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        color: theme.palette.text.secondary,\n        '&.active': {\n            color: theme.palette.text.primary,\n        },\n    },\n}));\n\nexport default function AppTopNavigation() {\n    const { isAuthenticated } = useAuth0();\n\n    return (\n        <Root>\n            <AppBar className={classes.appBar} position=\"fixed\" color=\"default\">\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        PetBook\n                    </Typography>\n                    {navigation\n                        .filter((item: NavigationItem) => {\n                            return item.authRequired ? isAuthenticated : true;\n                        })\n                        .map((item: NavigationItem) => (\n                            <Link component={NavLink} className={classes.link} key={item.title} to={item.to}>\n                                {item.title}\n                            </Link>\n                        ))}\n                    <TopAuthNav />\n                </Toolbar>\n            </AppBar>\n        </Root>\n    );\n}\n","import React from 'react';\n\nimport useNavMobile from '../../hooks/useNavMobile';\nimport AppTopBar from './AppTopBar';\nimport AppTopNavigation from './AppTopNavigation';\n\nexport default function ResponsiveAppTop() {\n    const matchesNavMobile = useNavMobile();\n    return matchesNavMobile ? <AppTopBar /> : <AppTopNavigation />;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Typography } from '@mui/material';\nimport Page from './Page';\n\nfunction PageNotFound() {\n    return (\n        <Page>\n            <Typography variant=\"h3\" component=\"h1\">\n                Page Not Found\n            </Typography>\n            <Typography variant=\"body1\">\n                Try navigating to <Link to=\"/\">homepage</Link>\n            </Typography>\n        </Page>\n    );\n}\n\nexport default PageNotFound;\n","import { createTheme, ThemeOptions } from '@mui/material';\n\nconst defaultTheme = createTheme({\n    palette: {\n        primary: {\n            light: '#417565',\n            main: '#13493b',\n            dark: '#002115',\n        },\n        secondary: {\n            light: '#e8cdb8',\n            main: '#875e3b',\n            dark: '#4e2c1a',\n        },\n        tertiary: {\n            light: '#ffffff',\n            main: '#faf5f1',\n            dark: '#c7c2be',\n        },\n        error: {\n            main: '#f44336',\n        },\n    },\n    breakpoints: {\n        values: {\n            xs: 0,\n            sm: 600,\n            md: 900,\n            lg: 1200,\n            xl: 1536,\n        },\n    },\n    typography: {\n        body1: {\n            lineHeight: 1.2,\n        },\n    },\n});\n\n// Responsive Typography\ndefaultTheme.typography.h1 = {\n    fontSize: '2.25rem',\n    [defaultTheme.breakpoints.down('sm')]: {\n        fontSize: '1.75rem',\n    },\n};\n\ndefaultTheme.typography.h2 = {\n    fontSize: '1.75rem',\n    [defaultTheme.breakpoints.down('sm')]: {\n        fontSize: '1.5rem',\n    },\n};\ndefaultTheme.typography.h3 = {\n    fontSize: '1.5rem',\n    [defaultTheme.breakpoints.down('sm')]: {\n        fontSize: '1.25rem',\n    },\n};\ndefaultTheme.typography.h4 = {\n    fontSize: '1.25rem',\n    [defaultTheme.breakpoints.down('sm')]: {\n        fontSize: '1.15rem',\n    },\n};\ndefaultTheme.typography.h5 = {\n    fontSize: '1.25rem',\n    [defaultTheme.breakpoints.down('sm')]: {\n        fontSize: '1.15rem',\n    },\n};\ndefaultTheme.typography.h6 = {\n    fontSize: '1.2rem',\n};\n\nconst theme: ThemeOptions = {\n    ...defaultTheme,\n\n    components: {\n        MuiLink: {\n            defaultProps: {\n                underline: 'hover',\n            },\n        },\n        MuiListItemIcon: {\n            styleOverrides: {\n                root: {\n                    minWidth: 'auto',\n                    marginTop: 4,\n                    marginBottom: 4,\n                },\n            },\n        },\n    },\n};\n\ndeclare module '@mui/material/styles' {\n    interface Palette {\n        tertiary: Palette['primary'];\n    }\n    interface PaletteOptions {\n        tertiary: PaletteOptions['primary'];\n    }\n}\n\nexport default theme;\n","import { useAuth0 } from '@auth0/auth0-react';\n\nexport default function PrivateRoute({ children }: { children: JSX.Element }) {\n    const { isAuthenticated, loginWithRedirect } = useAuth0();\n\n    if (!children) {\n        return null;\n    }\n\n    if (!isAuthenticated) {\n        loginWithRedirect();\n        return null;\n        // auth0.loginWithRedirect();\n    }\n\n    return children;\n}\n\n// function RequireAuth() {\n//     // let auth = useAuth();\n//     // let location = useLocation();\n//\n//     // if (!auth.user) {\n//     //     // Redirect them to the /login page, but save the current location they were\n//     //     // trying to go to when they were redirected. This allows us to send them\n//     //     // along to that page after they login, which is a nicer user experience\n//     //     // than dropping them off on the home page.\n//     //     // return <Navigate to=\"/login\" state={{ from: location }} />;\n//     // }\n//\n//     return children;\n// }\n","import './App.css';\nimport React from 'react';\nimport { Route, Routes, useLocation } from 'react-router';\n\nimport { Skeleton, styled, StyledEngineProvider, ThemeProvider } from '@mui/material';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport ResponsiveAppBottom from './components/layout/ResponsiveAppBottom';\nimport ResponsiveAppTop from './components/layout/ResponsiveAppTop';\nimport PageNotFound from './pages/PageNotFound';\nimport Theme from './theme';\nimport PrivateRoute from './utils/auth/PrivateRoute';\n\nconst LocationDisplay = () => {\n    const location = useLocation();\n    return <div data-testid=\"location-display\">{location.pathname}</div>;\n};\n\nconst PageNotImplemented = React.lazy(() => import('./pages/PageNotImplemented'));\n\nconst About = React.lazy(() => import('./pages/About'));\nconst UserProfile = React.lazy(() => import('./pages/UserProfile'));\nconst AnimalsPage = React.lazy(() => import('./pages/AnimalsPage'));\nconst AnimalEditPage = React.lazy(() => import('./pages/AnimalEditPage'));\nconst AnimalDetailsPage = React.lazy(() => import('./pages/AnimalDetailsPage'));\n\nconst FavoritesPage = React.lazy(() => import('./pages/FavoritesPage'));\nconst Home = React.lazy(() => import('./pages/Home'));\n\nconst Root = styled('div')(() => ({\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n}));\n\nexport default function App() {\n    return (\n        <StyledEngineProvider>\n            <ThemeProvider theme={Theme}>\n                <CssBaseline />\n                <Root>\n                    <ResponsiveAppTop />\n                    <React.Suspense fallback={<Skeleton variant=\"rectangular\" height=\"100vh\" width=\"100%\" />}>\n                        <Routes>\n                            <Route path=\"/about\" element={<About />} />\n                            <Route\n                                path=\"/user-profile\"\n                                element={\n                                    <PrivateRoute>\n                                        <UserProfile />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route\n                                path=\"/animal-list\"\n                                element={\n                                    <PrivateRoute>\n                                        <AnimalsPage />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route\n                                path=\"/animal/new\"\n                                element={\n                                    <PrivateRoute>\n                                        <AnimalEditPage />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route\n                                path=\"/animal/:id\"\n                                element={\n                                    <PrivateRoute>\n                                        <AnimalDetailsPage />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route\n                                path=\"/animal/:id/edit\"\n                                element={\n                                    <PrivateRoute>\n                                        <AnimalEditPage />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route\n                                path=\"/favorites\"\n                                element={\n                                    <PrivateRoute>\n                                        <FavoritesPage />\n                                    </PrivateRoute>\n                                }\n                            />\n                            <Route path=\"/search\" element={<PageNotImplemented />} />\n                            <Route path=\"/login\" element={<PageNotImplemented />} />\n                            <Route path=\"/logout\" element={<PageNotImplemented />} />\n                            <Route path=\"/\" element={<Home />} />\n\n                            <Route path=\"*\" element={<PageNotFound />} />\n                        </Routes>\n                    </React.Suspense>\n                    <ResponsiveAppBottom />\n                </Root>\n                <LocationDisplay />\n            </ThemeProvider>\n        </StyledEngineProvider>\n    );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","/* eslint-disable no-console */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://cra.link/PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","import React, { ReactChild } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { Auth0Provider } from '@auth0/auth0-react';\nimport config from '../../config';\n\nconst Auth0ProviderWithHistory = ({ children }: { children: ReactChild }) => {\n    const navigate = useNavigate();\n\n    const onRedirectCallback = (appState: any) => {\n        navigate(appState?.returnTo || window.location.pathname);\n    };\n\n    return (\n        <Auth0Provider\n            domain={config.AUTH0_DOMAIN}\n            clientId={config.AUTH0_CLIENT_ID}\n            redirectUri={window.location.origin}\n            audience={config.AUTH0_AUDIENCE_URL}\n            onRedirectCallback={onRedirectCallback}\n        >\n            {children}\n        </Auth0Provider>\n    );\n};\n\nexport default Auth0ProviderWithHistory;\n","import React, { ReactChild } from 'react';\n\nimport { ApolloClient, ApolloProvider, createHttpLink, InMemoryCache } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport config from '../config';\n\nconst AuthorizedApolloProvider = ({ children }: { children: ReactChild }) => {\n    const { getAccessTokenSilently } = useAuth0();\n\n    const httpLink = createHttpLink({\n        uri: config.GRAPHQL_URL, // your URI here...\n    });\n\n    const authLink = setContext(async () => {\n        const token = await getAccessTokenSilently();\n        return {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        };\n    });\n\n    const apolloClient = new ApolloClient({\n        link: authLink.concat(httpLink),\n        cache: new InMemoryCache({\n            typePolicies: {\n                Query: {\n                    fields: {\n                        animals: {\n                            keyArgs: [],\n                            merge(existing, incoming) {\n                                return incoming;\n                            },\n                        },\n                    },\n                },\n            },\n        }),\n        connectToDevTools: true,\n    });\n\n    return <ApolloProvider client={apolloClient}>{children}</ApolloProvider>;\n};\n\nexport default AuthorizedApolloProvider;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport store from './store';\nimport Auth0ProviderWithHistory from './utils/auth/Auth0ProviderWithHistory';\nimport AuthorizedApolloProvider from './utils/AuthorizedApolloProvider';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <Auth0ProviderWithHistory>\n                <AuthorizedApolloProvider>\n                    <Provider store={store}>\n                        <App />\n                    </Provider>\n                </AuthorizedApolloProvider>\n            </Auth0ProviderWithHistory>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","interface Config {\n    GRAPHQL_URL: string;\n    AUTH0_DOMAIN: string;\n    AUTH0_CLIENT_ID: string;\n    AUTH0_AUDIENCE_URL: string;\n    PUBLIC_URL: string;\n}\n\nconst config: Config = {\n    GRAPHQL_URL: process.env.REACT_APP_GRAPHQL_URL!,\n    AUTH0_DOMAIN: process.env.REACT_APP_AUTH0_DOMAIN!,\n    AUTH0_CLIENT_ID: process.env.REACT_APP_AUTH0_CLIENT_ID!,\n    AUTH0_AUDIENCE_URL: process.env.REACT_APP_AUTH0_AUTH_AUDIENCE!,\n    PUBLIC_URL: process.env.PUBLIC_URL!,\n};\n\nexport default config;\n","import { useMediaQuery, useTheme } from '@mui/material';\n\nexport default function useNavMobile() {\n    const theme = useTheme();\n    // NOTE value is set by the visual menu size\n    return useMediaQuery(theme.breakpoints.down(768));\n}\n","interface NavigationItem {\n    authRequired: boolean;\n    title: string;\n    to: string;\n    pageTitle: string;\n}\n\nconst navigation: Array<NavigationItem> = [\n    { authRequired: false, title: 'Home', to: '/', pageTitle: 'Welcome' },\n    { authRequired: false, title: 'About', to: '/about', pageTitle: 'About this project' },\n    { authRequired: true, title: 'Animals', to: '/animal-list', pageTitle: 'Animal list' },\n    { authRequired: true, title: 'Favorites', to: '/favorites', pageTitle: 'Favorites' },\n];\n\nexport { navigation };\nexport type { NavigationItem };\n"],"sourceRoot":""}